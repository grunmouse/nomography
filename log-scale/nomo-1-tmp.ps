%!PS-Adobe-3.0
%%BeginSetup
  << /PageSize [842 595] /Orientation 0 >> setpagedevice
%%EndSetup

% Номограмма 1. Линейка

(../../ps-steal/steal.ps) run
(../../ps-eskd/) stealfolder
(../../ps-eskd-font/) stealfolder
(../../nomography/ps/) stealfolder

	in2mm
	
	0.2 setlinewidth
	/eskd-b-font  findfont	3 scalefont setfont
	
${commonvar!<max_length>}
${commonvar!<tau_max>}
${commonvar!<tau_min>}
${commonvar!<line_count>}
${commonvar!<lambda>}


%Шкала tau
gsave
15 20 translate
{log lambda mul 0} scale-env begin
	/dir {pop -90} def
	/a {90 sub} def
	/target { last middle } def

	
	/startpos tau_min fun 2def
	/posstep 
		270 2 div 
		-20 
	2def
	
	0 1 line_count 1 sub {
		/i exch def
		gsave
			startpos posstep i 2mul 2add 2neg translate

			tau_min tau_max line
			
			${marks!}
		grestore	
	} for
	
end
grestore
showpage